<!DOCTYPE html>
<html>
	<head>
		 <meta charset="UTF-8">
		
	</head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
	<body>
		<canvas id="myChart" style="width:100%;max-width:600px"></canvas>
		
		
		
		
		<script>
			class Toner{
    constructor(tonerJson){
        this.serial = tonerJson.serial;
		//this.printer = ;
		this. dias = dias;
		this. consumo = consumo;         
        }


}
			
			
			var getJson = async function (){
				var toner = null;
				var xValues = []; 
				var dados = [];
				const urlParams = new URLSearchParams(window.location.search);
				//const serial = urlParams.get("printer");
				const serial =  'CAB220392B04';
				const res = await fetch("logSupplies.json");
				const data = await res.json();
				//console.log(data);
				
					console.log(data.Toners);
					data.Toners.forEach(t=> {
						console.log(t.consumo);
						xValues = t.dias;
						dados = t.consumo;
					});
					var toner = null;
				
						
			
			console.log(toner);
			
			
			
		//const xValues = ['01/06','02/06','03/06','04/06','05/06','06/06','07/06','08/06','09/06','10/06'];
		
		new Chart("myChart", {
		  type: "line",
		 
		  data: {
		    labels: xValues,
		    datasets: [{ 
		      data: dados,
		      borderColor: "blue",
		      fill: false,
		      label: "Toner"
		    }]
		  },
		  options: {
		    legend: {position: 'top'},
			   
		  }
		});
		}
		getJson();
		</script>
		
		
	</body>
</html>